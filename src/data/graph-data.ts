import { 
  Layout, Globe, ShieldCheck, Brain, Workflow, Terminal, GraduationCap, Search, Microscope, Sparkles, Code2, Settings,
  Network, Box, FileText, Link as LinkIcon, PlayCircle, Layers, Users, Maximize2,
  GitBranch, Zap, Server, Activity, Share2, Database, RefreshCw, CheckCircle2, Clock,
  Target
} from 'lucide-react';

export interface GraphNode {
  id: string;
  group: string;
  label: string;
  r: number;
  icon?: React.ComponentType<any>;
  desc?: string;
  utility?: string;
}

export interface GraphLink {
  source: string;
  target: string;
  type?: string;
}

export const GRAPH_DATA = {
  nodes: [
    // --- CORTEX (Central OS - The Anchor) ---
    { id: "Foundry", group: "os", label: "Foundry OS", r: 70, icon: Layout, 
      desc: "The Operating System for the Modern Enterprise. It creates a central digital twin of the organization, allowing decision-making to happen on a shared substrate of truth.",
      utility: "Centralizes data, logic, and action." },
    { id: "Apollo", group: "os", label: "Apollo", r: 45, icon: Globe, 
      desc: "The continuous delivery platform that powers Foundry. It enables autonomous upgrades across heterogeneous environments (cloud, on-prem, edge, classified networks) without downtime.",
      utility: "Orchestrates software deployment everywhere." },
    { id: "Auth", group: "os", label: "Control Panel", r: 35, icon: ShieldCheck, 
      desc: "Granular access control lists (ACLs), Multipass, and Checkpoints. Ensures data governance is respected at the row and column level across the entire system.",
      utility: "Governs access and security." },
    { id: "Checkpoints", group: "os", label: "Checkpoints", r: 25, icon: ShieldCheck,
      desc: "Data governance checkpoints that enforce quality and security policies at runtime.",
      utility: "Enforces data quality gates." },

    // --- FRONTAL LOBE (Logic & AIP - Top Center) ---
    { id: "AIP", group: "aip", label: "AIP Core", r: 55, icon: Brain, 
      desc: "The Artificial Intelligence Platform. It is not just a chat interface; it is a binding layer that allows Large Language Models (LLMs) to interact with the Ontology, call tools, and execute actions safely.",
      utility: "Binds Generative AI to Operational Data." },
    { id: "Logic", group: "aip", label: "AIP Logic", r: 30, icon: Workflow,
      desc: "A no-code environment for chaining LLM prompts, deterministic functions, and ontology queries to build complex AI agents.",
      utility: "Builds AI chains and agents." },
    { id: "Terminal", group: "aip", label: "AIP Terminal", r: 28, icon: Terminal, 
      desc: "The developer console for interacting with the Ontology via natural language and OSDK code snippets. Used for debugging and rapid prototyping.",
      utility: "Debugs and prototypes via prompt engineering." },
    { id: "Bootcamp", group: "aip", label: "Bootcamp", r: 30, icon: GraduationCap, 
      desc: "A rapid implementation framework designed to go from Zero to Use Case in 1-5 days. Focuses on solving specific high-value problems rather than multi-year IT projects.",
      utility: "Accelerates time-to-value." },
    { id: "RAG", group: "aip", label: "RAG", r: 32, icon: Search,
      desc: "Retrieval-Augmented Generation. Enables LLMs to generate responses incorporating information they weren't trained on by using embeddings and semantic search.",
      utility: "Augments LLM capabilities with your data." },
    { id: "Embeddings", group: "aip", label: "Embeddings", r: 28, icon: Microscope,
      desc: "Vector representations of text that capture semantic meaning. Used for semantic search and RAG workflows.",
      utility: "Encodes semantic meaning as vectors." },
    { id: "LLM", group: "aip", label: "LLMs", r: 30, icon: Sparkles,
      desc: "Large Language Models integrated into Foundry. Can be used for chat completion, tool use, and reasoning.",
      utility: "Provides generative AI capabilities." },
    { id: "UseLLM", group: "aip", label: "Use LLM Block", r: 26, icon: Code2,
      desc: "The core building block in AIP Logic. Contains System Prompt, Tools, Task Prompt, and Output configuration.",
      utility: "Core component for LLM-powered workflows." },
    { id: "Tools", group: "aip", label: "AIP Tools", r: 28, icon: Settings,
      desc: "Tools provided to LLMs: Apply Actions, Calculator, Call Functions, Query Objects, Current Date.",
      utility: "Extends LLM capabilities with deterministic functions." },

    // --- PARIETAL LOBE (Ontology - Right) ---
    { id: "Ontology", group: "ontology", label: "The Ontology", r: 60, icon: Network, 
      desc: "The semantic layer that maps raw data tables to real-world concepts (Objects). It decouples the data layer from the application layer, allowing apps to be built on 'Things' not 'Rows'.",
      utility: "Maps data to reality." },
    { id: "Objects", group: "ontology", label: "Object Types", r: 35, icon: Box,
      desc: "Definitions of real-world entities (e.g., Aircraft, Customer, Order) with properties and keys. They serve as the atoms of the Foundry universe.",
      utility: "Defines the entities of the business." },
    { id: "Properties", group: "ontology", label: "Properties", r: 28, icon: FileText,
      desc: "Characteristics of Object Types. Can be primitive types or shared properties used across multiple object types.",
      utility: "Defines attributes of entities." },
    { id: "LinkTypes", group: "ontology", label: "Link Types", r: 30, icon: LinkIcon,
      desc: "Relationships between Object Types. Enable graph-based queries and navigation across the ontology.",
      utility: "Defines relationships between entities." },
    { id: "Actions", group: "ontology", label: "Actions", r: 35, icon: PlayCircle, 
      desc: "Kinetic capabilities that allow users to write back to the datasources. Actions can trigger validations, side effects, and webhooks, closing the operational loop.",
      utility: "Enables write-back and operational change." },
    { id: "Functions", group: "ontology", label: "Functions", r: 28, icon: Code2, 
      desc: "Serverless TypeScript functions that execute deterministic logic on Ontology objects. They power Actions, Workshop calculations, and AIP tools.",
      utility: "Executes deterministic business logic." },
    { id: "ObjectSets", group: "ontology", label: "Object Sets", r: 30, icon: Layers,
      desc: "Collections of Object instances. Used for queries, filtering, and bulk operations.",
      utility: "Groups objects for operations." },
    { id: "Interfaces", group: "ontology", label: "Interfaces", r: 26, icon: Network,
      desc: "Ontology types that describe the shape and capabilities of Object Types. Enable polymorphism.",
      utility: "Enables consistent modeling patterns." },
    { id: "ObjectViews", group: "ontology", label: "Object Views", r: 28, icon: Maximize2,
      desc: "Central hub for all information and workflows related to a particular object instance.",
      utility: "Provides unified object interface." },
    { id: "Roles", group: "ontology", label: "Roles", r: 24, icon: Users,
      desc: "Central permissioning model in the Ontology. Grant access to ontological resources at Ontology or resource level.",
      utility: "Governs access to ontology resources." },

    // --- TEMPORAL LOBE (Data - Left) ---
    { id: "Pipeline", group: "data", label: "Pipeline Builder", r: 40, icon: GitBranch, 
      desc: "A low-code/no-code interface for building batch and streaming data pipelines. It compiles to Spark/Flink but abstracts the complexity.",
      utility: "Transforms raw data into usable assets." },
    { id: "CodeRepos", group: "data", label: "Code Repositories", r: 35, icon: GitBranch,
      desc: "Git-based version control for data transformations. Write PySpark, SQL, or R transforms with full CI/CD integration.",
      utility: "Version-controlled data transformations." },
    { id: "Transforms", group: "data", label: "Transforms", r: 32, icon: Zap,
      desc: "Data transformation operations. Can be built in Pipeline Builder (no-code) or Code Repositories (code-based).",
      utility: "Transforms data from source to target." },
    { id: "Batch", group: "data", label: "Batch Pipelines", r: 28, icon: Server,
      desc: "Scheduled data processing pipelines that run on Spark. Process large volumes of data at regular intervals.",
      utility: "Processes data in scheduled batches." },
    { id: "Streaming", group: "data", label: "Streaming", r: 30, icon: Activity, 
      desc: "Real-time data ingestion capabilities connecting to Kafka, MQTT, or TCP streams for sub-second latency decision making.",
      utility: "Ingests high-velocity data." },
    { id: "Connectors", group: "data", label: "Data Connection", r: 30, icon: Share2, 
      desc: "Primary way to get data into and out of Foundry. Defines Sources (connection info) and Syncs (what data to retrieve).",
      utility: "Connects Foundry to external systems." },
    { id: "Sources", group: "data", label: "Sources", r: 26, icon: Database,
      desc: "Store connection information and credentials for external systems (databases, ERPs, cloud storage, APIs).",
      utility: "Defines external system connections." },
    { id: "Syncs", group: "data", label: "Syncs", r: 26, icon: RefreshCw,
      desc: "Define what data to retrieve from a Source and how to do it (schedule, incremental logic). Produce datasets or streams.",
      utility: "Synchronizes data from sources." },
    { id: "Datasets", group: "data", label: "Datasets", r: 32, icon: Database,
      desc: "Structured data stored in Foundry. The primary data storage format, backed by Spark.",
      utility: "Stores structured data." },
    { id: "MediaSets", group: "data", label: "Media Sets", r: 28, icon: FileText,
      desc: "Collections of files (PDFs, images, documents) stored in Foundry. Used for OCR, embeddings, and RAG workflows.",
      utility: "Stores unstructured file data." },
    { id: "VirtualTables", group: "data", label: "Virtual Tables", r: 26, icon: Database,
      desc: "Views over external data sources that don't store data in Foundry. Query external systems directly.",
      utility: "Queries external data without ingestion." },
    { id: "Incremental", group: "data", label: "Incremental Syncs", r: 24, icon: RefreshCw,
      desc: "Syncs that only ingest the most recent data. Require transaction type and logic to determine what's new.",
      utility: "Efficiently syncs only new data." },
    { id: "HealthChecks", group: "data", label: "Health Checks", r: 24, icon: CheckCircle2,
      desc: "Validations applied to pipeline outputs. Ensure data quality and catch issues before production.",
      utility: "Validates pipeline outputs." },
    { id: "Schedules", group: "data", label: "Schedules", r: 24, icon: Clock,
      desc: "Define when pipelines run. Support cron expressions and event-based triggers.",
      utility: "Orchestrates pipeline execution." },

    // --- OCCIPITAL LOBE (Apps - Bottom) ---
    { id: "Workshop", group: "app", label: "Workshop", r: 35, icon: Layers, 
      desc: "The primary low-code application builder in Foundry. It allows builders to snap together widgets, charts, and action forms to create operational interfaces.",
      utility: "Builds interactive user interfaces." },
    { id: "WorkshopVariables", group: "app", label: "Workshop Variables", r: 24, icon: Code2,
      desc: "Store data in Workshop applications. Can be primitives (String, Array, Boolean) or Palantir types (Object Set, Filter List).",
      utility: "Manages state in Workshop apps." },
    { id: "WorkshopWidgets", group: "app", label: "Workshop Widgets", r: 26, icon: Layers,
      desc: "UI components in Workshop: Charts, Tables, Forms, Action Buttons, Filters, and more.",
      utility: "Building blocks for Workshop apps." },
    { id: "OSDK", group: "app", label: "Ontology SDK", r: 35, icon: Code2, 
      desc: "A developer toolkit that generates TypeScript/Python bindings for your Ontology, allowing you to build custom React apps or backend services outside of Foundry.",
      utility: "Extends Foundry to custom external apps." },
    { id: "Quiver", group: "app", label: "Quiver", r: 30, icon: Activity, 
      desc: "An advanced canvas for time-series analysis, object set aggregation, and chart building. Used for deep analytical dives.",
      utility: "Analyzes complex multi-modal data." },
    { id: "Contour", group: "app", label: "Contour", r: 28, icon: Maximize2,
      desc: "Point-and-click tool for building dashboards and visualizations. Can be embedded in Workshop applications.",
      utility: "Creates visual dashboards." },
    { id: "Notepad", group: "app", label: "Notepad", r: 26, icon: FileText,
      desc: "Scheduled reporting tool. Can generate reports from Quiver analyses and send them on a schedule.",
      utility: "Automates report generation." },
    { id: "Slate", group: "app", label: "Slate", r: 24, icon: FileText,
      desc: "Documentation and knowledge management application. Create and share documentation within Foundry.",
      utility: "Manages documentation and knowledge." },
    { id: "DigitalTwin", group: "strategy", label: "Digital Twin", r: 45, icon: Activity,
      desc: "Ontology + Real-Time Data + Actions. The operational replica that writes back to source systems.",
      utility: "Creates operational digital replicas of physical systems." },

    // --- EXTERNAL (Target) ---
    { id: "Natura", group: "target", label: "Natura & Co", r: 50, icon: Target, 
      desc: "Strategic Target Profile. A global cosmetics giant with 1.8M reps. Key challenges: Supply chain visibility, inventory distribution, and sales rep enablement.",
      utility: "The mission objective." },
  ] as GraphNode[],
  links: [
    // THE BACKBONE (Strong, bright connections between Lobes)
    { source: "Foundry", target: "Ontology", type: "backbone" }, 
    { source: "Foundry", target: "AIP", type: "backbone" },
    { source: "Foundry", target: "Apollo", type: "backbone" },
    { source: "Foundry", target: "Pipeline", type: "backbone" },
    { source: "Ontology", target: "AIP", type: "backbone" },
    { source: "Ontology", target: "Pipeline", type: "backbone" },
    { source: "Ontology", target: "Workshop", type: "backbone" },
    { source: "AIP", target: "Workshop", type: "backbone" },
    { source: "Pipeline", target: "Objects", type: "backbone" },
    { source: "AIP", target: "RAG", type: "backbone" },
    { source: "RAG", target: "Embeddings", type: "backbone" },

    // OS CONNECTIONS
    { source: "Foundry", target: "Auth" },
    { source: "Auth", target: "Checkpoints" },
    { source: "Foundry", target: "Checkpoints" },

    // AIP CONNECTIONS
    { source: "AIP", target: "Logic" }, 
    { source: "AIP", target: "Terminal" },
    { source: "AIP", target: "LLM" },
    { source: "Logic", target: "UseLLM" },
    { source: "UseLLM", target: "Tools" },
    { source: "Tools", target: "Actions" },
    { source: "Tools", target: "Functions" },
    { source: "RAG", target: "Embeddings" },
    { source: "RAG", target: "MediaSets" },
    { source: "Embeddings", target: "MediaSets" },
    { source: "Bootcamp", target: "AIP" },

    // ONTOLOGY CONNECTIONS
    { source: "Ontology", target: "Objects" },
    { source: "Ontology", target: "LinkTypes" },
    { source: "Ontology", target: "Actions" }, 
    { source: "Ontology", target: "Functions" },
    { source: "Ontology", target: "Interfaces" },
    { source: "Ontology", target: "ObjectViews" },
    { source: "Ontology", target: "Roles" },
    { source: "Objects", target: "Properties" },
    { source: "Objects", target: "LinkTypes" },
    { source: "Objects", target: "ObjectSets" },
    { source: "Objects", target: "Interfaces" },
    { source: "Objects", target: "ObjectViews" },
    { source: "Actions", target: "Functions" },
    { source: "Actions", target: "Objects" },

    // DATA ENGINEERING CONNECTIONS
    { source: "Connectors", target: "Sources" },
    { source: "Sources", target: "Syncs" },
    { source: "Syncs", target: "Datasets" },
    { source: "Syncs", target: "Streaming" },
    { source: "Syncs", target: "Incremental" },
    { source: "Pipeline", target: "CodeRepos" },
    { source: "Pipeline", target: "Transforms" },
    { source: "CodeRepos", target: "Transforms" },
    { source: "Pipeline", target: "Batch" },
    { source: "Pipeline", target: "Streaming" },
    { source: "Pipeline", target: "HealthChecks" },
    { source: "Pipeline", target: "Schedules" },
    { source: "Transforms", target: "Datasets" },
    { source: "Transforms", target: "Objects" },
    { source: "MediaSets", target: "Pipeline" },
    { source: "Datasets", target: "Objects" },
    { source: "VirtualTables", target: "Connectors" },

    // APPLICATION CONNECTIONS
    { source: "Workshop", target: "WorkshopVariables" },
    { source: "Workshop", target: "WorkshopWidgets" },
    { source: "Workshop", target: "Actions" },
    { source: "Workshop", target: "Objects" },
    { source: "Workshop", target: "Quiver" },
    { source: "Workshop", target: "Contour" },
    { source: "WorkshopVariables", target: "ObjectSets" },
    { source: "WorkshopWidgets", target: "Objects" },
    { source: "OSDK", target: "Ontology" },
    { source: "OSDK", target: "Objects" },
    { source: "OSDK", target: "Functions" },
    { source: "Quiver", target: "Objects" },
    { source: "Quiver", target: "ObjectSets" },
    { source: "Contour", target: "Objects" },
    { source: "Notepad", target: "Quiver" },
    { source: "Notepad", target: "Schedules" },
    { source: "Slate", target: "Workshop" },
    { source: "Slate", target: "Objects" },
    { source: "Slate", target: "MediaSets" },

    // CROSS-DOMAIN CONNECTIONS
    { source: "AIP", target: "Pipeline" },
    { source: "Logic", target: "Objects" },
    { source: "Logic", target: "Functions" },
    { source: "RAG", target: "Pipeline" },
    { source: "Embeddings", target: "Pipeline" },
    { source: "MediaSets", target: "Embeddings" },
    { source: "Workshop", target: "AIP" },
    { source: "Workshop", target: "Functions" },

    // EXTERNAL CONNECTIONS
    { source: "Natura", target: "OSDK" },
    { source: "Natura", target: "Workshop" },
    { source: "Natura", target: "Pipeline" },
    { source: "Natura", target: "Connectors" },
    { source: "Natura", target: "DigitalTwin" },
    
    // STRATEGIC CONNECTIONS
    { source: "DigitalTwin", target: "Ontology", type: "backbone" },
    { source: "DigitalTwin", target: "Objects" },
    { source: "DigitalTwin", target: "Actions" },
    { source: "DigitalTwin", target: "Streaming" },
    { source: "DigitalTwin", target: "Workshop" },
    { source: "DigitalTwin", target: "Foundry" },
  ] as GraphLink[]
};

